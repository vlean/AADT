<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>API RUN | ApiDebug</title>
    <link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">
    <link href="/static/css/jquery.jsonview.min.css" rel="stylesheet">
    <link rel="stylesheet/less" type="text/css" href="/static/css/style.less">
</head>
<body>


<div class="row">

        <?php require('menu.html');?>
    <div class="col-md-2 col-sm-1"></div>
    <div class="col-xs-12 col-sm-10 col-md-8">
        <div class="page-header">
            <h1>API<small><span class="glyphicon glyphicon-play"></span></small></h1>
        </div>

        <form role="form" class="form-horizontal form-group-sm" action="/Api/parses" method="post">
            <input type="hidden" name="fid" value="<?php echo $fid; ?>"/>
            <div class="panel panel-default">
                <div class="panel-heading">基础信息</div>
                <div class="panel-body">

                    <div class="form-group">
                        <label for="environment_run" class="col-sm-2 control-label">环境选择</label>
                        <div class="col-sm-10">
                          <select class="form-control" name="environment" id="environment_run"></select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="apiSelect" class="col-sm-2 control-label">Api选择</label>
                        <div class="col-sm-10" id="apiSelect">
                            <select class="group form-control"></select>
                            <select class="api1 form-control"></select>
                            <select class="api2 form-control"></select>
                            <select class="api3 form-control"></select>
                            <select class="api4 form-control"></select>
                        </div>
                    </div>
                    <div class="form-group" id="showApiVersion">
                        <label for="apiSelect" class="col-sm-2 control-label">接口版本</label>
                        <div class="col-sm-10" id="apiVersion">
                            <select class="group form-control" data-value="10"></select>
                        </div>
                    </div>

                </div>
            </div>

            <div class="panel panel-default">
                <div class="panel-heading">请求参数</div>
                <div class="panel-body" id="justRunParams">
                </div>

            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button type="submit" id="runApi" class="btn btn-default">提交</button>
                </div>
            </div>
        </div>


    <ul class="nav nav-tabs" role="tablist">
      <li role="presentation" class="active"><a href="#response" role="tab" data-toggle="tab">返回结果</a></li>
      <li role="presentation"><a href="#resp_info" role="tab" data-toggle="tab">详细信息</a></li>
    </ul>
    <div class="tab-content">
      <div role="tabpanel" class="tab-pane active" id="response"></div>
      <div role="tabpanel" class="tab-pane" id="resp_info"></div>
    </div>
            </div>

            </form>
    </div>
    <div class="col-md-2 col-sm-1"></div>
</div>

<script id="run_params" type="text/html">
{{each data as par i}}
<div class="form-group run_params">
    <label for="run_{{par.key}}" class="col-sm-3 control-label run_params_label">
        {{par.name}}:<span class="key">{{par.key}}</span>
    </label>
    <div class="col-sm-8">
        <input type="text" class="form-control" name="{{par.key}}" id="run_{{par.key}}" placeholder="" value="{{par.default}}">
        <span class="help-block">{{par.remark}}</span>
    </div>
    <div class="col-sm-1">
        {{if par.must}}<span class="must">*</span>{{/if}}
    </div>
</div>
{{/each}}
</script>

<script id="run_envs" type="text/html">
    {{each data as env i}}
    <option value="{{env.url}}">{{env.name}}</option>
    {{/each}}
</script>

<script id="run_version" type="text/html">
    {{each data as version i}}
    <option value="{{version}}">{{version}}</option>
    {{/each}}
</script>

<script src="//cdn.bootcss.com/less.js/2.3.1/less.min.js"></script>
<script src="//cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
<script src="//cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="/static/js/jquery.cxselect.min.js"></script>
<script src="/static/js/jquery.jsonview.min.js"></script>
<script src="/static/js/art.min.js"></script>
<script src="/static/js/api.js"></script>

</body>
</html>
